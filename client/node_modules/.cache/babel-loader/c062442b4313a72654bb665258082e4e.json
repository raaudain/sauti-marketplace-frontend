{"ast":null,"code":"var _jsxFileName = \"/Users/ramon/Documents/web-projects/sauti-marketplace-frontend/src/components/Register.js\";\nimport React, { useState } from \"react\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { createAccount } from \"../store/actions/createActions\";\nimport Header from \"./Header\";\n\nconst Register = props => {\n  const [credentials, setCredentials] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\"\n  });\n\n  const handleChange = event => {\n    event.preventDefault();\n    setCredentials({ ...credentials,\n      [event.target.name]: event.target.value\n    });\n  };\n\n  const handleSubmit = event => {\n    const password = document.getElementById(\"pass\");\n    const cPassword = document.getElementById(\"cpass\");\n    const username = document.getElementById(\"username\");\n    const email = document.getElementById(\"email\");\n    const nameError = document.getElementById(\"nameError\");\n    const emailError = document.getElementById(\"emailError\");\n    const passError = document.getElementById(\"passError\");\n    const cpassError = document.getElementById(\"cpassError\");\n    let errors = 0; // For username validation\n\n    if (username.value.length < 4) {\n      nameError.innerHTML = \"<div class='error'>Username must be at least 6 characters</div>\";\n      errors++;\n    }\n\n    if (username.value.length > 20) {\n      nameError.innerHTML = \"<div class='error'>Username cannot be over 20 characters</div>\";\n      errors++;\n    }\n\n    if (username.value.match(/[#/\\/\\\\]/)) {\n      nameError.innerHTML = \"<div class='error'>Username must not contain hashtags, backslashes, or forward slashes</div>\";\n      errors++;\n    } // For email validation\n\n\n    if (!email.value.includes(\"@\") || email.value.length === 0 || email.value === null) {\n      emailError.innerHTML = \"<div class='error'>Please enter valid email address</div>\";\n      errors++;\n    } // For password validation\n\n\n    if (password.value.length < 8) {\n      passError.innerHTML = \"<div class='error'>Password must be atleast 8 characters</div>\";\n      errors++;\n    }\n\n    if (password.value.length > 25) {\n      passError.innerHTML = \"<div class='error'>Password cannot be over 25 characters</div>\";\n      errors++;\n    }\n\n    if (!password.value.match(/[A-Z]/) || !password.value.match(/[a-z]/) || !password.value.match(/[0-9]/) || !password.value.match(/[!*&^%$@]/)) {\n      passError.innerHTML = \"<div class='error'>Password must have at least one usercase letter, one lowercase letter, one number, and one special character (!, *, &, ^, %, $, @)</div>\";\n      errors++;\n    } // For re-enter password validation\n\n\n    if (password.value !== cPassword.value) {\n      cpassError.innerHTML = \"<div class='error'>Passwords must match</div>\";\n      errors++;\n    }\n\n    if (errors > 0) {\n      event.preventDefault();\n    } else {\n      event.preventDefault();\n      props.createAccount(credentials);\n    }\n  };\n\n  const message = () => {\n    if (props.isFailure) {\n      return props.isFailure.message.data;\n    }\n  }; //const message = props.isFailure.data\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }), console.log(props.isFailure), console.log(message), !props.isSuccess ? /*#__PURE__*/React.createElement(\"div\", {\n    id: \"register\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"Sign up for account\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, props.isFailure ? console.log(props.isFailure.message.data) : null, props.isFailure ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 31\n    }\n  }, \"\\\"Username taken\\\"\") : null, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"nameError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"username\",\n    type: \"text\",\n    onChange: handleChange,\n    name: \"username\",\n    value: credentials.username,\n    placeholder: \"USERNAME\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"emailError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"email\",\n    type: \"text\",\n    onChange: handleChange,\n    name: \"email\",\n    value: credentials.email,\n    placeholder: \"EMAIL\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"passError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"pass\",\n    type: \"password\",\n    onChange: handleChange,\n    name: \"password\",\n    value: credentials.password,\n    placeholder: \"PASSWORD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    id: \"cpassError\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    id: \"cpass\",\n    type: \"password\",\n    placeholder: \"RE-ENTER PASSWORD\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, \"REGISTER\"))) : /*#__PURE__*/React.createElement(Redirect, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 12\n    }\n  }));\n};\n\nconst mapStateToProps = state => {\n  return {\n    isSuccess: state.createReducer.isSuccess,\n    isFailure: state.createReducer.error\n  };\n};\n\nexport default connect(mapStateToProps, {\n  createAccount\n})(Register);","map":{"version":3,"sources":["/Users/ramon/Documents/web-projects/sauti-marketplace-frontend/src/components/Register.js"],"names":["React","useState","useHistory","Redirect","connect","createAccount","Header","Register","props","credentials","setCredentials","username","email","password","handleChange","event","preventDefault","target","name","value","handleSubmit","document","getElementById","cPassword","nameError","emailError","passError","cpassError","errors","length","innerHTML","match","includes","message","isFailure","data","console","log","isSuccess","mapStateToProps","state","createReducer","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,kBAArC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAT,QAA8B,gCAA9B;AACA,OAAOC,MAAP,MAAmB,UAAnB;;AAEA,MAAMC,QAAQ,GAAGC,KAAK,IAAI;AACxB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCT,QAAQ,CAAC;AAC7CU,IAAAA,QAAQ,EAAE,EADmC;AAE7CC,IAAAA,KAAK,EAAE,EAFsC;AAG7CC,IAAAA,QAAQ,EAAE;AAHmC,GAAD,CAA9C;;AAMA,QAAMC,YAAY,GAAGC,KAAK,IAAI;AAC5BA,IAAAA,KAAK,CAACC,cAAN;AACAN,IAAAA,cAAc,CAAC,EACb,GAAGD,WADU;AAEb,OAACM,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;AAFrB,KAAD,CAAd;AAID,GAND;;AAQA,QAAMC,YAAY,GAAGL,KAAK,IAAI;AAC5B,UAAMF,QAAQ,GAAGQ,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAjB;AACA,UAAMC,SAAS,GAAGF,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAlB;AACA,UAAMX,QAAQ,GAAGU,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAjB;AACA,UAAMV,KAAK,GAAGS,QAAQ,CAACC,cAAT,CAAwB,OAAxB,CAAd;AAEA,UAAME,SAAS,GAAGH,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAlB;AACA,UAAMG,UAAU,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAnB;AACA,UAAMI,SAAS,GAAGL,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAlB;AACA,UAAMK,UAAU,GAAGN,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAnB;AAEA,QAAIM,MAAM,GAAG,CAAb,CAX4B,CAa5B;;AACA,QAAIjB,QAAQ,CAACQ,KAAT,CAAeU,MAAf,GAAwB,CAA5B,EAA+B;AAC7BL,MAAAA,SAAS,CAACM,SAAV,GAAsB,iEAAtB;AACAF,MAAAA,MAAM;AACP;;AAED,QAAIjB,QAAQ,CAACQ,KAAT,CAAeU,MAAf,GAAwB,EAA5B,EAAgC;AAC9BL,MAAAA,SAAS,CAACM,SAAV,GAAsB,gEAAtB;AACAF,MAAAA,MAAM;AACP;;AAED,QAAIjB,QAAQ,CAACQ,KAAT,CAAeY,KAAf,CAAqB,UAArB,CAAJ,EAAsC;AACpCP,MAAAA,SAAS,CAACM,SAAV,GAAsB,8FAAtB;AACAF,MAAAA,MAAM;AACP,KA3B2B,CA6B5B;;;AACA,QAAI,CAAChB,KAAK,CAACO,KAAN,CAAYa,QAAZ,CAAqB,GAArB,CAAD,IAA8BpB,KAAK,CAACO,KAAN,CAAYU,MAAZ,KAAuB,CAArD,IAA0DjB,KAAK,CAACO,KAAN,KAAgB,IAA9E,EAAoF;AAClFM,MAAAA,UAAU,CAACK,SAAX,GAAuB,2DAAvB;AACAF,MAAAA,MAAM;AACP,KAjC2B,CAmC5B;;;AACA,QAAIf,QAAQ,CAACM,KAAT,CAAeU,MAAf,GAAwB,CAA5B,EAA+B;AAC7BH,MAAAA,SAAS,CAACI,SAAV,GAAsB,gEAAtB;AACAF,MAAAA,MAAM;AACP;;AAED,QAAIf,QAAQ,CAACM,KAAT,CAAeU,MAAf,GAAwB,EAA5B,EAAgC;AAC9BH,MAAAA,SAAS,CAACI,SAAV,GAAsB,gEAAtB;AACAF,MAAAA,MAAM;AACP;;AAED,QAAI,CAACf,QAAQ,CAACM,KAAT,CAAeY,KAAf,CAAqB,OAArB,CAAD,IAAkC,CAAClB,QAAQ,CAACM,KAAT,CAAeY,KAAf,CAAqB,OAArB,CAAnC,IAAoE,CAAClB,QAAQ,CAACM,KAAT,CAAeY,KAAf,CAAqB,OAArB,CAArE,IAAsG,CAAClB,QAAQ,CAACM,KAAT,CAAeY,KAAf,CAAqB,WAArB,CAA3G,EAA8I;AAC5IL,MAAAA,SAAS,CAACI,SAAV,GAAsB,6JAAtB;AACAF,MAAAA,MAAM;AACP,KAjD2B,CAmD5B;;;AACA,QAAIf,QAAQ,CAACM,KAAT,KAAmBI,SAAS,CAACJ,KAAjC,EAAwC;AACtCQ,MAAAA,UAAU,CAACG,SAAX,GAAuB,+CAAvB;AACAF,MAAAA,MAAM;AACP;;AAED,QAAIA,MAAM,GAAG,CAAb,EAAgB;AACdb,MAAAA,KAAK,CAACC,cAAN;AACD,KAFD,MAGK;AACHD,MAAAA,KAAK,CAACC,cAAN;AACAR,MAAAA,KAAK,CAACH,aAAN,CAAoBI,WAApB;AACD;AACF,GAhED;;AAkEA,QAAMwB,OAAO,GAAG,MAAM;AACpB,QAAIzB,KAAK,CAAC0B,SAAV,EAAqB;AACnB,aAAO1B,KAAK,CAAC0B,SAAN,CAAgBD,OAAhB,CAAwBE,IAA/B;AACD;AACF,GAJD,CAjFwB,CAsFxB;;;AAEA,sBACE,uDACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGC,OAAO,CAACC,GAAR,CAAY7B,KAAK,CAAC0B,SAAlB,CAFH,EAGGE,OAAO,CAACC,GAAR,CAAYJ,OAAZ,CAHH,EAIG,CAACzB,KAAK,CAAC8B,SAAP,gBACC;AAAK,IAAA,EAAE,EAAC,UAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADA,eAEA;AAAM,IAAA,QAAQ,EAAElB,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGZ,KAAK,CAAC0B,SAAN,GAAmBE,OAAO,CAACC,GAAR,CAAY7B,KAAK,CAAC0B,SAAN,CAAgBD,OAAhB,CAAwBE,IAApC,CAAnB,GAAgE,IADnE,EAEG3B,KAAK,CAAC0B,SAAN,gBAAmB;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAnB,GAAoE,IAFvE,eAGE;AAAK,IAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE;AACE,IAAA,EAAE,EAAC,UADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,QAAQ,EAAEpB,YAHZ;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,KAAK,EAAEL,WAAW,CAACE,QALrB;AAME,IAAA,WAAW,EAAC,UANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAaE;AAAK,IAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,eAcE;AACE,IAAA,EAAE,EAAC,OADL;AAEE,IAAA,IAAI,EAAC,MAFP;AAGE,IAAA,QAAQ,EAAEG,YAHZ;AAIE,IAAA,IAAI,EAAC,OAJP;AAKE,IAAA,KAAK,EAAEL,WAAW,CAACG,KALrB;AAME,IAAA,WAAW,EAAC,OANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,eAuBE;AAAK,IAAA,EAAE,EAAC,WAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvBF,eAwBE;AACE,IAAA,EAAE,EAAC,MADL;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,QAAQ,EAAEE,YAHZ;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,KAAK,EAAEL,WAAW,CAACI,QALrB;AAME,IAAA,WAAW,EAAC,UANd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAxBF,eAiCE;AAAK,IAAA,EAAE,EAAC,YAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAjCF,eAkCE;AACE,IAAA,EAAE,EAAC,OADL;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,WAAW,EAAC,mBAHd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlCF,eAwCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAxCF,CAFA,CADD,gBA8CI,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlDP,CADF;AAsDD,CA9ID;;AAgJA,MAAM0B,eAAe,GAAGC,KAAK,IAAI;AAC/B,SAAO;AACLF,IAAAA,SAAS,EAAEE,KAAK,CAACC,aAAN,CAAoBH,SAD1B;AAELJ,IAAAA,SAAS,EAAEM,KAAK,CAACC,aAAN,CAAoBC;AAF1B,GAAP;AAID,CALD;;AAOA,eAAetC,OAAO,CAACmC,eAAD,EAAkB;AAAElC,EAAAA;AAAF,CAAlB,CAAP,CAA4CE,QAA5C,CAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { createAccount } from \"../store/actions/createActions\";\nimport Header from \"./Header\";\n\nconst Register = props => {\n  const [credentials, setCredentials] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\"\n  });\n\n  const handleChange = event => {\n    event.preventDefault();\n    setCredentials({\n      ...credentials,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = event => {\n    const password = document.getElementById(\"pass\");\n    const cPassword = document.getElementById(\"cpass\");\n    const username = document.getElementById(\"username\");\n    const email = document.getElementById(\"email\");\n\n    const nameError = document.getElementById(\"nameError\");\n    const emailError = document.getElementById(\"emailError\");\n    const passError = document.getElementById(\"passError\");\n    const cpassError = document.getElementById(\"cpassError\");\n\n    let errors = 0;\n\n    // For username validation\n    if (username.value.length < 4) {\n      nameError.innerHTML = \"<div class='error'>Username must be at least 6 characters</div>\";\n      errors++;\n    }\n\n    if (username.value.length > 20) {\n      nameError.innerHTML = \"<div class='error'>Username cannot be over 20 characters</div>\";\n      errors++;\n    }\n\n    if (username.value.match(/[#/\\/\\\\]/)) {\n      nameError.innerHTML = \"<div class='error'>Username must not contain hashtags, backslashes, or forward slashes</div>\";\n      errors++;\n    }\n\n    // For email validation\n    if (!email.value.includes(\"@\") || email.value.length === 0 || email.value === null) {\n      emailError.innerHTML = \"<div class='error'>Please enter valid email address</div>\";\n      errors++;\n    }\n\n    // For password validation\n    if (password.value.length < 8) {\n      passError.innerHTML = \"<div class='error'>Password must be atleast 8 characters</div>\";\n      errors++;\n    }\n\n    if (password.value.length > 25) {\n      passError.innerHTML = \"<div class='error'>Password cannot be over 25 characters</div>\";\n      errors++;\n    }\n\n    if (!password.value.match(/[A-Z]/) || !password.value.match(/[a-z]/) || !password.value.match(/[0-9]/) || !password.value.match(/[!*&^%$@]/)) {\n      passError.innerHTML = \"<div class='error'>Password must have at least one usercase letter, one lowercase letter, one number, and one special character (!, *, &, ^, %, $, @)</div>\";\n      errors++;\n    }\n\n    // For re-enter password validation\n    if (password.value !== cPassword.value) {\n      cpassError.innerHTML = \"<div class='error'>Passwords must match</div>\";\n      errors++;\n    }\n\n    if (errors > 0) {\n      event.preventDefault();\n    }\n    else {\n      event.preventDefault();\n      props.createAccount(credentials);\n    }\n  };\n\n  const message = () => {\n    if (props.isFailure) {\n      return props.isFailure.message.data\n    }\n  }\n  //const message = props.isFailure.data\n\n  return (\n    <>\n      <Header />\n      {console.log(props.isFailure)}\n      {console.log(message)}\n      {!props.isSuccess ? (\n        <div id=\"register\">\n        <h2>Sign up for account</h2>\n        <form onSubmit={handleSubmit}>\n          {props.isFailure ? (console.log(props.isFailure.message.data)) : null}\n          {props.isFailure ? (<div className=\"error\">\"Username taken\"</div>) : null}\n          <div id=\"nameError\"></div>\n          <input\n            id=\"username\"\n            type=\"text\"\n            onChange={handleChange}\n            name=\"username\"\n            value={credentials.username}\n            placeholder=\"USERNAME\"\n          />\n\n          <div id=\"emailError\"></div>\n          <input\n            id=\"email\"\n            type=\"text\"\n            onChange={handleChange}\n            name=\"email\"\n            value={credentials.email}\n            placeholder=\"EMAIL\"\n          />\n\n          <div id=\"passError\"></div>\n          <input\n            id=\"pass\"\n            type=\"password\"\n            onChange={handleChange}\n            name=\"password\"\n            value={credentials.password}\n            placeholder=\"PASSWORD\"\n          />\n\n          <div id=\"cpassError\"></div>\n          <input\n            id=\"cpass\"\n            type=\"password\"\n            placeholder=\"RE-ENTER PASSWORD\"\n          />\n\n          <button>REGISTER</button>\n        </form>\n      </div>\n      ) : (<Redirect to=\"/login\" />)}\n    </>\n  );\n};\n\nconst mapStateToProps = state => {\n  return {\n    isSuccess: state.createReducer.isSuccess,\n    isFailure: state.createReducer.error\n  }\n}\n\nexport default connect(mapStateToProps, { createAccount })(Register);\n"]},"metadata":{},"sourceType":"module"}