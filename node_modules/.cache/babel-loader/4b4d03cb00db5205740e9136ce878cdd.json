{"ast":null,"code":"import axiosWithAuth from \"../../utils/axiosWithAuth\";\nimport { types } from \"./index\";\nexport const logIn = credentials => dispatch => {\n  dispatch({\n    type: types.LOGIN_START\n  });\n  return axiosWithAuth().post(\"/auth/login\", credentials).then(res => {\n    // Sets token\n    console.log(res.data);\n    localStorage.setItem(\"userId\", res.data.id);\n    localStorage.setItem(\"token\", res.data.token);\n    localStorage.setItem(\"user\", res.data.user);\n    dispatch({\n      type: types.LOGIN_SUCCESS,\n      payload: res.data\n    });\n  }).catch(err => {\n    dispatch({\n      type: types.LOGIN_FAILURE,\n      payload: {\n        message: err.response\n      }\n    });\n    console.log(err.response);\n  });\n};\nexport const logOut = () => dispatch => {\n  dispatch({\n    type: types.LOGOUT_START\n  });\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"user\");\n  location.reload();\n};","map":{"version":3,"sources":["/Users/ramon/Documents/web-projects/sauti-marketplace-frontend/src/store/actions/authActions.js"],"names":["axiosWithAuth","types","logIn","credentials","dispatch","type","LOGIN_START","post","then","res","console","log","data","localStorage","setItem","id","token","user","LOGIN_SUCCESS","payload","catch","err","LOGIN_FAILURE","message","response","logOut","LOGOUT_START","removeItem","location","reload"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,2BAA1B;AACA,SAASC,KAAT,QAAsB,SAAtB;AAEA,OAAO,MAAMC,KAAK,GAAGC,WAAW,IAAIC,QAAQ,IAAI;AAC9CA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEJ,KAAK,CAACK;AAAd,GAAD,CAAR;AACA,SAAON,aAAa,GACjBO,IADI,CACC,aADD,EACgBJ,WADhB,EAEJK,IAFI,CAECC,GAAG,IAAI;AACX;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAhB;AACAC,IAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BL,GAAG,CAACG,IAAJ,CAASG,EAAxC;AACAF,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BL,GAAG,CAACG,IAAJ,CAASI,KAAvC;AACAH,IAAAA,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6BL,GAAG,CAACG,IAAJ,CAASK,IAAtC;AACAb,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEJ,KAAK,CAACiB,aADL;AACoBC,MAAAA,OAAO,EAAEV,GAAG,CAACG;AADjC,KAAD,CAAR;AAGD,GAXI,EAYJQ,KAZI,CAYEC,GAAG,IAAI;AACZjB,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEJ,KAAK,CAACqB,aADL;AACoBH,MAAAA,OAAO,EAAE;AAAEI,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAAf;AAD7B,KAAD,CAAR;AAGAd,IAAAA,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACG,QAAhB;AACD,GAjBI,CAAP;AAkBD,CApBM;AAsBP,OAAO,MAAMC,MAAM,GAAG,MAAMrB,QAAQ,IAAI;AACtCA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEJ,KAAK,CAACyB;AAAd,GAAD,CAAR;AACAb,EAAAA,YAAY,CAACc,UAAb,CAAwB,OAAxB;AACAd,EAAAA,YAAY,CAACc,UAAb,CAAwB,MAAxB;AACAC,EAAAA,QAAQ,CAACC,MAAT;AACD,CALM","sourcesContent":["import axiosWithAuth from \"../../utils/axiosWithAuth\";\nimport { types } from \"./index\";\n\nexport const logIn = credentials => dispatch => {\n  dispatch({ type: types.LOGIN_START });\n  return axiosWithAuth()\n    .post(\"/auth/login\", credentials)\n    .then(res => {\n      // Sets token\n      console.log(res.data)\n      localStorage.setItem(\"userId\", res.data.id);\n      localStorage.setItem(\"token\", res.data.token);\n      localStorage.setItem(\"user\", res.data.user);\n      dispatch({ \n        type: types.LOGIN_SUCCESS, payload: res.data \n      });\n    })\n    .catch(err => {\n      dispatch({ \n        type: types.LOGIN_FAILURE, payload: { message: err.response }\n      });\n      console.log(err.response);\n    });\n};\n\nexport const logOut = () => dispatch => {\n  dispatch({ type: types.LOGOUT_START });\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"user\");\n  location.reload();\n};"]},"metadata":{},"sourceType":"module"}